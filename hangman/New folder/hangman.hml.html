<!doctype html>
<html>
<head>
	<link rel="stylesheet" href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="container">	
		<div class="row" id="flavor">
			<div class="col-lg-3">
			</div>
			<div class="col-lg-6" id="textworld">
				<p id="computerVoice">
					$> Press submit to try and hack the password.
				</p>
				<button id="confirm" class="button" onClick="struggle()">Submit</button>
				<form id="typetext">
					$><input type ="text" id="cli" onKeyup="listen()">
				</form>			
			</div>
			<div class="col-lg-3">
			</div>	
		</div>	
			<div class="row" id="passwordholder">
				<div class="col-lg-3">
				</div>	
					<div class="col-lg-6" id="main">
						<div id = "gallows">
						</div>
					</div>
				<div class="col-lg-3">
				</div>	
			</div>	
</div>			
<script>
var keyWord = ["silence", "celebration", "invention", "ceaseless", "gurgling", "intoxicant", "mohawk", "horizontal", "orangutang", "hoodwink"]

var keyWordLength = keyWord.length;
console.log(keyWordLength);

var choosenWord;
var choosenWordLength
function wordDice() {
	var randomizer=Math.floor((Math.random() * keyWordLength) + 1);
	console.log(randomizer);
	choosenWord=keyWord[randomizer -1]
	console.log(choosenWord);
	choosenWordLength=choosenWord.length;
}
wordDice()
var listenResult;
var onEnter;
function listen() {
	listenResult = document.getElementById("cli").value;
	console.log(listenResult);
}
var submit;
var nextLine; 
var computerText;
var guesses=10
var pathFind
function struggle() {
	if (repeatStop != 1) {
		makeWord();
	}
	else {
        submit = listenResult;
        nextLine = document.getElementById("computerVoice");
        		nextLine.innerHTML="$> The password contains "+ choosenWordLength + " letters. If you can guess one letter, I will reveal it for you.";
        	if (submit.length > 1) {
        		nextLine.innerHTML="$> Please use only a single letter"
        	}
        	else {
        		submit = userLetter
        		console.log(iterationCheck())    		
        	}
        }

        	// if (submit === "start") {
        	// 	nextLine = document.getElementById("computerVoice");
        	// 	nextLine.innerHTML="$> Password required for entry. Please type 'hashfrag.exe' to attempt to break the password."
        	// 	// document.getElementById("textworld").appendChild(nextLine);
        	// }
        	// else if (submit === "hashfrag.exe") {
        	// 	makeWord()
        	// 	nextLine = document.getElementById("computerVoice");
        	// 	nextLine.innerHTML="$> The password contains "+ choosenWordLength + " letters. If you can guess one letter, I will reveal it for you.";

        	// }
        	// else {
        	// 	nextLine = document.getElementById("computerVoice");
        	// 	nextLine.innerHTML="$> Please type 'start' to begin."
        	// }
        	document.getElementById("cli").value = "";
  	}
  	
console.log(computerText);

// var userLetter=prompt("Guess a letter in the mystery word. (will only read first letter)");

//utilize the following formula for locating the poition of the specified letter.
// in plain text, i want a function which will check for the 1) does the letter exist in the variable choosenWord
// 2) find the first instance of the letter by position
// 3) slice the string at the first hit
// 4) check again
// 5) if result === -1 terminate loop
// I couldn't figure out how to do this as a loop, so I did it manually. trueHitLocation variables are returning the positiion of the userLetter within the choosenWord or, if miss, an undefined variable
var hitLocation;
var multipleCheck;
var secondHitLocation;
var secondMultipleCheck;
var thirdHitLocation;
var thirdMultipleCheck;
var fourthHitLocation;
var trueSecondHitLocation;
var trueThirdHitlocation;
var trueFourthHitLocation;						


var userLetter= "a"
function iterationCheck() {
	hitLocation = choosenWord.indexOf(userLetter) +1;
	multipleCheck = choosenWord.slice(hitLocation);
if (hitLocation > 0) {
secondHitLocation = multipleCheck.indexOf(userLetter) +1;
secondMultipleCheck = multipleCheck.slice(secondHitLocation);
thirdHitLocation = secondMultipleCheck.indexOf(userLetter) +1;
thirdMultipleCheck = secondMultipleCheck.slice(thirdHitLocation);
fourthHitLocation = thirdMultipleCheck.indexOf(userLetter);
console.log("I am the hitLocation variable : " + hitLocation);
console.log("I am the multipleCheck variable : " + multipleCheck);
console.log("I am the secondHitLocation variable : " + secondHitLocation);
console.log("I am the secondMultipleCheck variable : " + secondMultipleCheck);
console.log("i am the thirdHitLocation varibale : " + thirdHitLocation);
console.log("i am the thirdMultipleCheck variable: " + thirdMultipleCheck);
console.log("I am the fourthHitLocation variable : " + fourthHitLocation);
}
else {
	alert ("you done fucked up");
}
if (secondHitLocation > 0) {
	trueSecondHitLocation = hitLocation + secondHitLocation;
}
if (thirdHitLocation > 0) {
	trueThirdHitlocation = hitLocation + secondHitLocation + thirdHitLocation;
}
if (fourthHitLocation > 0) {
	trueFourthHitLocaion = hitLocation + secondHitLocation + thirdHitLocation + fourthHitLocation;
}
console.log("true hit location variables : " + hitLocation + "," + trueSecondHitLocation + "," + trueThirdHitlocation + "," + trueFourthHitLocation)
}

var noose = document.getElementById("gallows");
console.log(noose)
var spaces = [];
var letterCount = [];
var repeatStop
function makeWord () {
	for (var i=0; i < choosenWordLength; i++) {
		spaces[i] = document.createElement("div");
		noose.appendChild(spaces[i]);
		spaces[i].classList.add("trials");
		letterCount[i] = document.createElement("p");
		letterCount[i].id = "number"+(i+1);
		spaces[i].appendChild(letterCount[i]);
		document.getElementById("number"+(i+1)).innerHTML = "" + (i+1);
		letterCount[i].classList.add("number");

		console.log(spaces[i]);
		repeatStop=1
	}
	}
</script>
</body>